<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile Page</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/2.1.1/cropper.min.css"
    />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Kumbh+Sans:wght@400;700&display=swap"
    />
    <link rel="icon" type="image/png" href="fevicon.png" />
    <style>
      * {
        margin: 0;
        padding: 0;
        font-family: "Kumbh Sans", sans-serif;
        color: #6e6e6e;
      }
      body {
        background-color: #e9e9e9;
      }
      body,
      html {
        overflow-x: hidden; /* Prevent horizontal scrolling */
      }
      img {
        max-width: 100%;
        height: auto;
      }
      .placeholder {
        width: 100%; /* or a fixed width */
        height: 200px; /* Set a height to prevent layout shifts */
        background-color: #f0f0f0;
      }
      nav {
        width: 100%; /* Full width of the viewport */
        height: 3.225rem; /* Height of the nav */
        background-color: #ffff; /* Background color */
        padding: 0.9375rem; /* Padding inside the nav */
        z-index: 1000; /* Ensure it stays above other content */
        display: flex; /* Flexbox for layout */
        justify-content: space-between; /* Space between items */
        align-items: center; /* Center items vertically */
      }
      nav img {
        width: 10.875rem;
      }
      .profile {
        display: flex;
        align-items: center;
        gap: 0.625rem;
        margin-right: 60px;
      }
      .profile i {
        padding: 0.625rem;
        border-radius: 50%;
        font-size: 1.075rem;
        background-color: #ece6f0;
      }
      .person-details {
        display: flex;
        align-items: center;
        gap: 0.375rem;
      }
      .person-details img {
        width: 3.375rem;
        border-radius: 50%;
      }
      .search {
        display: flex;
        align-items: center;
        border-radius: 4.1875rem;
        padding: 0.375rem 1.4375rem;
        width: 24.4375rem;
        height: 2.9375rem;
        background-color: #ece6f0;
      }
      .search i {
        margin: 0 0.3125rem;
      }
      .search input {
        border: none;
        outline: none;
        flex: 1;
        padding: 0.3125rem;
        background-color: transparent;
        font-size: 1.0875rem;
      }
      #faculty :nth-child(2) {
        font-size: 0.75rem;
      }
      #faculty :nth-child(1) {
        font-weight: bold;
      }
      .body {
        display: flex;
        align-content: center;
        width: auto;
        height: 38.75rem;
      }
      .panel {
        background-color: white;
        width: 19.625rem;
        height: 87vh;
        border-radius: 0 0.875rem 0.875rem 0;
        margin-top: 0.3125rem;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }
      .list ul li {
        display: flex;
        flex-direction: column;
        padding: 1.3125rem;
        gap: 2.0625rem;
      }
      .list ul li a {
        text-decoration: none;
      }
      .panel-item {
        padding: 1.3125rem;
        width: 300px;
      }
      .list ul li :nth-child(1) {
        font-weight: 600;
      }
      .bottom-profile {
        padding: 1.3125rem;
      }
      .bottom-profile-item {
        display: flex;
        flex-direction: column;
        padding: 1.3125rem;
        gap: 1.25rem;
      }
      .bottom-profile-option {
        display: flex;
        align-items: center;
        gap: 0.625rem;
      }
      #panel-head {
        font-size: 1.25rem;
      }
      .main {
        display: flex;
      }
      .content {
        width: 100vw;
        height: 87vh;
        background-color: #fef7ff;
        margin: 5px;
        border-radius: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .profile-container {
        background: white;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        width: 400px;
        max-width: 100%;
        padding: 20px;
        text-align: center;
      }
      .profile-container img {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        object-fit: cover;
        border: 4px solid #007bff;
        margin-bottom: 15px;
      }
      .profile-container label {
        display: inline-block;
        margin: 10px 0;
        padding: 10px 20px;
        background: #007bff;
        color: white;
        border-radius: 5px;
        cursor: pointer;
        transition: background 0.3s;
      }
      .profile-container label:hover {
        background: #0056b3;
      }
      .profile-container input[type="file"] {
        display: none;
      }
      .profile-container form {
        display: flex;
        flex-direction: column;
        gap: 15px;
      }
      .profile-container input[type="text"],
      .profile-container input[type="email"],
      .profile-container input[type="tel"] {
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
      }
      .profile-container button {
        padding: 10px 20px;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background 0.3s;
      }
      .profile-container button:hover {
        background: #0056b3;
      }
    </style>
  </head>
  <body>
    <nav>
      <div class="img"><img src="logo.png" alt="logo" /></div>
      <div class="search">
        <i class="fa-solid fa-bars"></i>
        <input type="text" placeholder="Search" />
        <i class="fa-solid fa-magnifying-glass"></i>
      </div>
      <div class="profile">
        <a href="notification.html">
          <i class="fa-regular fa-bell fa-shake"></i
        ></a>
        <div class="person-details">
          <div>
            <img
              id="nav-profile-pic"
              src="profile logo.jpg"
              alt="Profile Picture"
            />
          </div>
          <div id="faculty">
            <p id="nav-profile-name">Faculty Name</p>
            <p id="nav-profile-email">27300122122</p>
          </div>
        </div>
      </div>
    </nav>
    <div class="main-content">
      <div class="main">
        <div class="panel">
          <div class="panel-item">
            <p id="panel-head">MENU</p>
            <div class="list">
              <ul>
                <li>
                  <a style="font-weight: 200" href="index.html">ATTENDANCE</a>
                  <a href="students.html">STUDENTS</a>
                  <a href="#">ASSIGMENTS</a>
                  <a href="#">EVENTS</a>
                  <a href="#">LEAVE MANAGEMENT</a>
                </li>
              </ul>
            </div>
          </div>

          <div class="bottom-profile">
            <p id="panel-head">ACCOUNT</p>
            <div class="bottom-profile-item">
              <div class="bottom-profile-option">
                <i class="fa-regular fa-user"></i>
                <a
                  style="font-weight: 600; text-decoration: none"
                  href="profile.html"
                  >PROFILE</a
                >
              </div>
              <div class="bottom-profile-option">
                <i class="fa-solid fa-headset"></i>
                <a
                  style="text-decoration: none"
                  href="https://wa.me/919835633891?text=Hello,%20I%20found%20your%20contact%20information%20from%20AttendEase"
                  >Contact us on WhatsApp</a
                >
              </div>
              <div class="bottom-profile-option">
                <i
                  class="fa-solid fa-right-from-bracket"
                  style="color: #ff0000"
                ></i>
                <a style="text-decoration: none" href="login.html">Log Out</a>
              </div>
            </div>
          </div>
        </div>
        <div class="main-content">
          <div class="content">
            <div class="profile-container">
              <img
                id="profile-pic"
                src="profile logo.jpg"
                alt="Profile Picture"
              />
              <div>
                <label for="profile-pic-input"
                  ><i class="fas fa-edit"></i> Change Profile Picture</label
                >
                <input
                  type="file"
                  id="profile-pic-input"
                  accept="image/*"
                  onchange="previewImage(event)"
                />
              </div>
              <form id="profile-form">
                <input
                  type="text"
                  id="name"
                  name="name"
                  placeholder="Your Name"
                  required
                />
                <input
                  type="email"
                  id="email"
                  name="email"
                  placeholder="Your Email"
                  required
                />
                <input
                  type="tel"
                  id="phone"
                  name="phone"
                  placeholder="Your Phone Number"
                />
                <button type="submit">Save Changes</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- agar nai hua 2 div hta dne  -->

    <script>
      function previewImage(event) {
        const file = event.target.files[0];
        const reader = new FileReader();
        reader.onload = function (e) {
          document.getElementById("profile-pic").src = e.target.result;
        };
        reader.readAsDataURL(file);
      }

      document
        .getElementById("profile-form")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          const name = document.getElementById("name").value;
          const email = document.getElementById("email").value;
          const phone = document.getElementById("phone").value;
          const profilePic = document.getElementById("profile-pic").src;
          localStorage.setItem("userName", name);
          localStorage.setItem("userEmail", email);
          localStorage.setItem("userPhone", phone);
          localStorage.setItem("profilePhoto", profilePic);

          window.location.href = "index.html"; // Redirect to index.html after saving
        });

      window.onload = function () {
        const userName = localStorage.getItem("userName");
        const userEmail = localStorage.getItem("userEmail");
        const userPhone = localStorage.getItem("userPhone");
        const profilePhoto = localStorage.getItem("profilePhoto");

        if (userName) document.getElementById("name").value = userName;
        if (userEmail) document.getElementById("email").value = userEmail;
        if (userPhone) document.getElementById("phone").value = userPhone;
        if (profilePhoto)
          document.getElementById("profile-pic").src = profilePhoto;
        document.getElementById("nav-profile-pic").src = profilePhoto;
        document.getElementById("nav-profile-name").innerText = userName;
        document.getElementById("nav-profile-email").innerText = userEmail;
      };
    </script>
  </body>
</html>
